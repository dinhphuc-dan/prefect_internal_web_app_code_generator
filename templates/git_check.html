{%- extends 'base.html' %}

{%- block body %}
    {%- if action_status == 'Succeeded' %}
        <div class ="good_condition"> {{ action_name ~ " " ~action_status }} </div>
        <div class ="no_condition"> Log </div>
        <div class="text-box"> {{ log | safe }} </div>
        {%- if action_name == 'Git Check Prefect Dbt Core' %}
        <form action="/generate_prefect_dbt_core_template" method="POST">
            <input type="text" 
                name="dbt_core_object_name_in_prefect" 
                id = 'dbt_core_object_name_in_prefect'
                placeholder="Your dbt core CLI block name in Prefect" 
            />
            <button type="submit" name="generate_prefect_dbt_core_button" value="true">Generate Template</button>
        </form>
        {%- elif action_name == 'Git Check Prefect Airbyte' %}
        <form action="/generate_prefect_airbyte_template" method="POST">
            <input type="text" 
                name="airbyte_object_name_in_prefect" 
                id = 'airbyte_object_name_in_prefect'
                placeholder="Your airbyte Json block name in Prefect" 
            />
            <button type="submit" name="generate_prefect_airbyte_button" value="true">Generate Template</button>
        </form>
        {%- elif action_name == 'Git Check Superset Automation' %}
        <form action="/superset_automation_options" method="POST">
            <button type="submit" name="create_new_roles_and_role_security" value="true"> Create New Roles and Role Sercurity</button>
            <button type="submit" name="update_table_all_role_sercurity" value="true"> Update Table All Role Sercurity</button>
            <button type="submit" name="update_mkt_app_permissions" value="true"> Update Mkt App Permissions</button>
        </form>
        {% endif %}
    {%- else%}
        <div class ="bad_condition"> {{ action_name ~ " " ~action_status }} </div>
        <div class ="no_condition"> Log </div>
        <div class="text-box"> {{ log | safe }} </div>
    {%- endif%}
{%- endblock %}
